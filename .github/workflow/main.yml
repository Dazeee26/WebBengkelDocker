# Nama alur kerja ini akan muncul di tab "Actions" di repositori GitHub Anda
name: Frontend CI untuk Vercel

# Menentukan kapan alur kerja ini akan dijalankan
on:
  push:
    branches:
      - main # Jalankan alur kerja saat ada push ke branch 'main'
  pull_request:
    branches:
      - main # Jalankan alur kerja saat ada pull request ke branch 'main'

jobs:
  build-frontend:
    # Menentukan runner lingkungan untuk job ini
    runs-on: ubuntu-latest

    steps:
    - name: Checkout Code
      uses: actions/checkout@v4 # Mengambil kode dari repositori

    - name: Set up Node.js
      uses: actions/setup-node@v4
      with:
        node-version: '20' # Sesuaikan dengan versi Node.js yang Anda gunakan untuk frontend

    - name: Install Frontend Dependencies (NPM/Yarn)
      # Asumsi package.json ada di root proyek atau di sub-direktori frontend
      run: npm install # Atau 'yarn install' jika Anda menggunakan Yarn

    - name: Run Frontend Build
      # Perintah ini akan mengkompilasi aset frontend Anda (misalnya, dari resources/js jika itu bagian dari monorepo)
      # Pastikan ini menghasilkan file statis ke direktori yang benar (misalnya, 'public' atau 'dist')
      run: npm run build # Atau 'yarn build'

    # Catatan: Tidak ada langkah deployment langsung ke Vercel di sini.
    # Vercel akan secara otomatis mendeteksi perubahan di branch 'main' Anda
    # dan menjalankan proses build & deployment-nya sendiri setelah ini.
    # Pastikan Anda telah menghubungkan repositori GitHub Anda ke Vercel
    # dan mengkonfigurasi "Build Command" serta "Output Directory" dengan benar di pengaturan proyek Vercel Anda.
